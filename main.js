(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._url=e.url,this._headers=e.headers}var n,r;return n=t,(r=[{key:"_check",value:function(e){return e.ok?e.json():Promise.reject("Извините произошла ошибка")}},{key:"getUserData",value:function(){return fetch("".concat(this._url,"/users/me"),{method:"GET",headers:this._headers}).then(this._check)}},{key:"getAllCard",value:function(){return fetch("".concat(this._url,"/cards"),{method:"GET",headers:this._headers}).then(this._check)}},{key:"postNewCard",value:function(e){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(this._check)}},{key:"patchDataUser",value:function(e){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then(this._check)}},{key:"patchAvatarUser",value:function(e){return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.avatar})}).then(this._check)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._check)}},{key:"likeCard",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e._id,"/likes"),{method:"PUT",headers:this._headers,body:JSON.stringify(e)}).then(this._check)}},{key:"deleteLike",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e._id,"/likes"),{method:"DELETE",headers:this._headers}).then(this._check)}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r,o,i,c=function(){function e(t,n,r,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._idUser=n,this._data=t,this._handleCardClick=r,this._colbackLikeActive=o,this._colbackLikeDelete=i,this._cloneCard=e._templateCard.querySelector(".card").cloneNode(!0),this._plaseImg=this._cloneCard.querySelector(".card__image"),this._likeButton=this._cloneCard.querySelector(".card__like-button"),this._placeTitle=this._cloneCard.querySelector(".card__title"),this._cardLikeCounter=this._cloneCard.querySelector(".card__like-counter")}var t,r;return t=e,(r=[{key:"test",value:function(){var e=this;return this._data.likes.some((function(t){return t._id===e._idUser}))}},{key:"checkLikeStatus",value:function(){this.test()&&this._addlike()}},{key:"checkLikeCounter",value:function(e){this._cardLikeCounter.innerText=e.likes.length}},{key:"createCard",value:function(){return this._plaseImg.src=this._data.link,this._plaseImg.alt=this._data.name,this._placeTitle.textContent=this._data.name,this._setEventListeners(),this._cloneCard}},{key:"_setEventListeners",value:function(){var e=this;this._plaseImg.addEventListener("click",(function(){e._handleCardClick()})),this._likeButton.addEventListener("click",(function(){e.test()?(e._colbackLikeDelete(e._data),e._toggleLike()):(e._colbackLikeActive(e._data),e._toggleLike())}))}},{key:"_addlike",value:function(){this._likeButton.classList.add("card__like-button_active")}},{key:"_toggleLike",value:function(){this._likeButton.classList.toggle("card__like-button_active"),this.checkLikeCounter}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=s(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},l.apply(this,arguments)}function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}r=c,o="_templateCard",i=document.querySelector("#template-card").content,o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i;var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(r);if(o){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function c(e,t,n,r,o,u){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(a=i.call(this,e,t,n,r,o))._colbackDeleteCard=u,a._cloneCard=c._templateCard.querySelector(".card").cloneNode(!0),a._placeTitle=a._cloneCard.querySelector(".card__title"),a._plaseImg=a._cloneCard.querySelector(".card__image"),a._likeButton=a._cloneCard.querySelector(".card__like-button"),a._cardLikeCounter=a._cloneCard.querySelector(".card__like-counter"),a._deleteButton=a._cloneCard.querySelector(".card__delete-button"),a}return t=c,(n=[{key:"_setEventListeners",value:function(){var e=this;l(h(c.prototype),"_setEventListeners",this).call(this),this._deleteButton.addEventListener("click",(function(){e._colbackDeleteCard({id:e._idCard,cloneCard:e._cloneCard})}))}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(c);function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(d,"_templateCard",document.querySelector("#template-userCard").content);var _=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._selector=n}var t,n;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this._items.forEach((function(t){return e._renderer(t)}))}},{key:"addItems",value:function(e){this._selector.append(e)}}])&&y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,"_toggleButtonState",(function(){r._hasInvalidInput()?r._inactiveSubmitButton():r._activeSubmitButton()})),v(this,"resetValidation",(function(){r._toggleButtonState(),r._inputList.forEach((function(e){r._hideInputError(e)}))})),this._listSelector=t,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._listSelector.inputSelector)),this._submitButton=this._formElement.querySelector(this._listSelector.submitButtonSelector)}var t,n;return t=e,(n=[{key:"_isValid",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_showInputError",value:function(e,t){this._inputError=this._formElement.querySelector(".".concat(e.id,"-error")),e.classList.add(this._listSelector.inputErrorClass),this._inputError.textContent=t}},{key:"_hideInputError",value:function(e){this._inputError=this._formElement.querySelector(".".concat(e.id,"-error")),e.classList.remove(this._listSelector.inputErrorClass),this._inputError.textContent=""}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_inactiveSubmitButton",value:function(){this._submitButton.classList.add(this._listSelector.inactiveButtonClass),this._submitButton.setAttribute("disabled","disabled")}},{key:"_activeSubmitButton",value:function(){this._submitButton.classList.remove(this._listSelector.inactiveButtonClass),this._submitButton.removeAttribute("disabled")}},{key:"_setEventListeners",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._isValid(t),e._toggleButtonState(t)}))}))}},{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}}])&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),g(this,"_closeByClick",(function(e){e.target.closest(".popup-content")||n.close()})),g(this,"_handleEscClose",(function(e){"Escape"===e.key&&n.close()})),this._popupSelector=t,this._closeButton=this._popupSelector.querySelector(".popup__close-button")}var t,n;return t=e,(n=[{key:"open",value:function(){this._popupSelector.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupSelector.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._closeButton.addEventListener("click",(function(){e.close()})),this._popupSelector.addEventListener("click",this._closeByClick)}}])&&k(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=C(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},E.apply(this,arguments)}function C(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}function L(e,t){return L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},L(e,t)}function j(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=P(r);if(o){var n=P(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return j(this,e)});function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),i.call(this,e)}return t=c,(n=[{key:"open",value:function(e){E(P(c.prototype),"open",this).call(this),c.fullScrin.src=e.link,c.fullScrin.alt=e.name,c.fullScrinTitle.textContent=e.name}}])&&O(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(w);function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(){return T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=D(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},T.apply(this,arguments)}function D(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=V(e)););return e}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}function U(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return A(e)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}q(B,"fullScrin",document.querySelector(".popup__max-img")),q(B,"fullScrinTitle",document.querySelector(".popup__max-img-title"));var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=V(r);if(o){var n=V(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return U(this,e)});function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(A(n=i.call(this,e)),"_getInputValues",(function(){return n.valueList={},n._inputList.forEach((function(e){n.valueList[e.name]=e.value})),n.valueList})),n._submitFormСolback=t,n._textButton=n._popupSelector.querySelector(".submit-button"),n._textButtonDefault=n._textButton.innerText,n._formElement=n._popupSelector.querySelector(".form"),n._inputList=Array.from(n._formElement.querySelectorAll(".form__input")),n}return t=c,(n=[{key:"showDownloadMessage",value:function(e){this._textButton.innerText=e?"Сохранение...":this._textButtonDefault}},{key:"setEventListeners",value:function(){var e=this;T(V(c.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e.showDownloadMessage(!0),e._submitFormСolback(e._getInputValues())}))}},{key:"close",value:function(){T(V(c.prototype),"close",this).call(this),this._formElement.reset()}}])&&I(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(w);function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var J=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nickName=document.querySelector(t),this._aboutMe=document.querySelector(n),this._userInfo={}}var t,n;return t=e,(n=[{key:"setUserInfo",value:function(t){this._nickName.textContent=t.name,this._aboutMe.textContent=t.about,e.avatar.src=t.avatar,this._userInfo=t}},{key:"getUserInfo",value:function(){return this._userInfo}},{key:"getIdUser",value:function(){return this._userInfo._id}}])&&N(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(){return H="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=z(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},H.apply(this,arguments)}function z(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=X(e)););return e}function K(e,t){return K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},K(e,t)}function Q(e,t){if(t&&("object"===F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return W(e)}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e){return X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},X(e)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(J,"avatar",document.querySelector(".profile__avatar"));var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=X(r);if(o){var n=X(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Q(this,e)});function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(W(n=i.call(this,e)),"_deleteCard",(function(){n._dataCard.cloneCard.remove(),n._dataCard.cloneCard=null})),n._dataCard={},n._colbackDeleteCard=t,n._closeButton=n._popupSelector.querySelector(".popup__close-button"),n._formElement=n._popupSelector.querySelector(".form"),n}return t=c,(n=[{key:"open",value:function(e){return this._dataCard={id:e.id,cloneCard:e.cloneCard},H(X(c.prototype),"open",this).call(this),this._dataCard}},{key:"setEventListeners",value:function(){var e=this;H(X(c.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e.showDownloadMessage(!0),e._colbackDeleteCard(e._dataCard.id,e._deleteCard)}))}}])&&G(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(M),Z={inputSelector:".form__input",submitButtonSelector:".submit-button",inactiveButtonClass:"form__submit_inactive",inputErrorClass:"form__input_type_error"},$=document.querySelector("#avatar"),ee=document.querySelector("#profile"),te=document.querySelector("#create-card"),ne=document.querySelector("#delete-card"),re=document.querySelector(".popup_type_max-img"),oe=document.querySelector("#avatar-input"),ie=document.querySelector("#about-me-input"),ce=document.querySelector("#name-input"),ue=document.querySelector(".profile__add-photo"),ae=document.querySelector(".profile__edit-avatar"),le=document.querySelector(".profile__edit"),se=document.querySelector("#form-create"),fe=document.querySelector("#profile-edit"),pe=document.querySelector("#cheng-avatar"),he=document.querySelector("#card-list");function de(e){ke.open(e)}function ye(e){var t=me.getIdUser();if(e.owner._id===t){var n=new d(e,t,(function(){return ge.open(e)}),(function(){return _e(e,n.checkLikeCounter)}),(function(){return be(e,n.checkLikeCounter)}),de);return console.log(n.test()),n.checkLikeStatus(),n.checkLikeCounter(e),n.createCard()}var r=new c(e,t,(function(){return ge.open(e)}),(function(){return _e(e,r.checkLikeCounter)}),(function(){return be(e,r.checkLikeCounter)}));return console.log(r.test()),r.checkLikeStatus(),r.checkLikeCounter(e),r.createCard()}function _e(e,t){ve.likeCard(e).then((function(e){t(e)})).catch((function(e){return console.log(e)}))}function be(e,t){ve.deleteLike(e).then((function(e){t(e)})).catch((function(e){return console.log(e)}))}var ve=new t({url:"https://mesto.nomoreparties.co/v1/cohort-41",headers:{authorization:"9f932bbc-acd7-4dae-8249-c98552659f56","content-type":"application/json"}}),me=new J(".profile__nick-name",".profile__profession"),ke=new Y(ne,(function(e,t){ve.deleteCard(e).then((function(){ke.close()})).catch((function(e){return console.log(e)})).finally((function(){return ke.showDownloadMessage(!1)}))})),ge=new B(re),we=new m(Z,pe),Se=new m(Z,fe),Oe=new m(Z,se),Ee=new M(ee,(function(e){ve.patchDataUser(e).then((function(e){me.getUserInfo(),me.setUserInfo(e),Ee.close()})).catch((function(e){return console.log(e)})).finally((function(){return Ee.showDownloadMessage(!1)}))})),Ce=new M(te,(function(e){ve.postNewCard(e).then((function(e){!function(e){he.prepend(ye(e))}(e),Ce.close()})).catch((function(e){return console.log(e)})).finally((function(){return Ce.showDownloadMessage(!1)}))})),Le=new M($,(function(e){ve.patchAvatarUser(e).then((function(e){me.getUserInfo(),me.setUserInfo(e),Le.close()})).catch((function(e){console.log(e)})).finally((function(){return Le.shshowDownloadMessage(!1)}))}));we.enableValidation(),Se.enableValidation(),Oe.enableValidation(),ue.addEventListener("click",(function(){Ce.open(),Oe.resetValidation()})),le.addEventListener("click",(function(){return e=me.getUserInfo(),ce.value=e.name,ie.value=e.about,Ee.open(),void Se.resetValidation();var e})),ae.addEventListener("click",(function(){return e=me.getUserInfo(),oe.value=e.avatar,void Le.open();var e})),ke.setEventListeners(),ge.setEventListeners(),Ee.setEventListeners(),Le.setEventListeners(),Ce.setEventListeners(),ve.getAllCard().then((function(e){var t=new _({items:e,renderer:function(e){t.addItems(ye(e))}},he);t.renderItems()})).catch((function(e){console.log(e)})),ve.getUserData().then((function(e){me.setUserInfo(e)})).catch((function(e){console.log(e)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWlCYSxtQkFDakJaLEdBQW9CWSxtQkFFcEI1QyxHQUFjbkcsaUJBQWlCLFNBakkvQixXQUNFd0ksR0FBb0I1QixPQUNwQnVCLEdBQW9CYSxxQkFnSXRCM0MsR0FBa0JyRyxpQkFBaUIsU0FBUSxrQkF6SWhCdkMsRUF5SXVDcUosR0FBU3dCLGNBeEl6RXBDLEdBQWN4QixNQUFRakgsRUFBS0ksS0FDM0JvSSxHQUFhdkIsTUFBUWpILEVBQUtLLE1BQzFCc0ssR0FBaUJ4QixZQUNqQnNCLEdBQWlCYyxrQkFKbkIsSUFBMkJ2TCxLQTBJM0IySSxHQUFtQnBHLGlCQUFpQixTQUFRLGtCQTlIWnZDLEVBOEh3Q3FKLEdBQVN3QixjQTdIL0V0QyxHQUFZdEIsTUFBUWpILEVBQUtNLFlBQ3pCNkssR0FBa0JoQyxPQUZwQixJQUFnQ25KLEtBZ0loQ2tKLEdBQVlzQyxvQkFDWi9CLEdBQWUrQixvQkFDZmIsR0FBaUJhLG9CQUNqQkwsR0FBa0JLLG9CQUNsQlQsR0FBb0JTLG9CQUVwQnhCLEdBQUl5QixhQUNEM0wsTUFBSyxTQUFDRSxHQUNQLElBQU0wTCxFQUFVLElBQUlwSSxFQUFTLENBQzNCRSxNQUFPeEQsRUFDUHlELFNBQVUsU0FBQzVCLEdBQ1Q2SixFQUFRQyxTQUFTdkMsR0FBYXZILE1BRWhDbUgsSUFDRjBDLEVBQVFFLGlCQUVQMUIsT0FBTSxTQUFDQyxHQUNOUCxRQUFRQyxJQUFJTSxNQUdoQkgsR0FBSTZCLGNBQ0QvTCxNQUFLLFNBQUNQLEdBQ0w4SixHQUFTeUIsWUFBWXZMLE1BRXRCMkssT0FBTSxTQUFDQyxHQUNOUCxRQUFRQyxJQUFJTSxPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckNhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwRGVsZXRlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvdXRpbHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xyXG4gICAgICAgIHRoaXMuX3VybCA9IGNvbmZpZy51cmw7XHJcbiAgICAgICAgdGhpcy5faGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzO1xyXG4gICAgfVxyXG4gICAgX2NoZWNrKHJlcyl7XHJcbiAgICAgICAgaWYocmVzLm9rKXtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ9CY0LfQstC40L3QuNGC0LUg0L/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsCcpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0VXNlckRhdGEoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgfSkudGhlbih0aGlzLl9jaGVjayk7XHJcbiAgICB9XHJcbiAgICBnZXRBbGxDYXJkKCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIH0pLnRoZW4odGhpcy5fY2hlY2spO1xyXG4gICAgfVxyXG4gICAgcG9zdE5ld0NhcmQoZGF0YSl7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHNgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxyXG4gICAgICAgIH0pLnRoZW4odGhpcy5fY2hlY2spO1xyXG4gICAgfVxyXG4gICAgcGF0Y2hEYXRhVXNlcihkYXRhKXtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBhYm91dDogZGF0YS5hYm91dFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pLnRoZW4odGhpcy5fY2hlY2spO1xyXG4gICAgfVxyXG5cclxuICAgIHBhdGNoQXZhdGFyVXNlcihkYXRhKXtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgYXZhdGFyOiBkYXRhLmF2YXRhclxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pLnRoZW4odGhpcy5fY2hlY2spO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBkZWxldGVDYXJkKGlkKXtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2lkfWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICB9KS50aGVuKHRoaXMuX2NoZWNrKTtcclxuICAgIH1cclxuXHJcbiAgICBsaWtlQ2FyZChkYXRhKXtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2RhdGEuX2lkfS9saWtlc2AsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSlcclxuICAgICAgICB9KS50aGVuKHRoaXMuX2NoZWNrKTtcclxuICAgIH1cclxuXHJcbiAgICBkZWxldGVMaWtlKGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2RhdGEuX2lkfS9saWtlc2AsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICB9KS50aGVuKHRoaXMuX2NoZWNrKTtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gICAgc3RhdGljIF90ZW1wbGF0ZUNhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGVtcGxhdGUtY2FyZCcpLmNvbnRlbnQ7XHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhLCBpZFVzZXIsIGhhbmRsZUNhcmRDbGljaywgY29sYmFja0xpa2VBY3RpdmUsIGNvbGJhY2tMaWtlRGVsZXRlKSB7XHJcbiAgICAgICAgdGhpcy5faWRVc2VyID0gaWRVc2VyO1xyXG4gICAgICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICAgICAgICB0aGlzLl9jb2xiYWNrTGlrZUFjdGl2ZSA9IGNvbGJhY2tMaWtlQWN0aXZlO1xyXG4gICAgICAgIHRoaXMuX2NvbGJhY2tMaWtlRGVsZXRlID0gY29sYmFja0xpa2VEZWxldGU7XHJcbiAgICAgICAgdGhpcy5fY2xvbmVDYXJkID0gQ2FyZC5fdGVtcGxhdGVDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkJykuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuX3BsYXNlSW1nID0gdGhpcy5fY2xvbmVDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19pbWFnZScpO1xyXG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9jbG9uZUNhcmQucXVlcnlTZWxlY3RvcignLmNhcmRfX2xpa2UtYnV0dG9uJyk7XHJcbiAgICAgICAgdGhpcy5fcGxhY2VUaXRsZSA9IHRoaXMuX2Nsb25lQ2FyZC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fdGl0bGUnKTtcclxuICAgICAgICB0aGlzLl9jYXJkTGlrZUNvdW50ZXIgPSB0aGlzLl9jbG9uZUNhcmQucXVlcnlTZWxlY3RvcignLmNhcmRfX2xpa2UtY291bnRlcicpO1xyXG4gICAgfTtcclxuICAgIHRlc3QoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGEubGlrZXMuc29tZSgoZWwpID0+IGVsLl9pZCA9PT0gdGhpcy5faWRVc2VyKTtcclxuICAgIH1cclxuICAgIGNoZWNrTGlrZVN0YXR1cygpIHtcclxuICAgICAgICBpZih0aGlzLnRlc3QoKSl7XHJcbiAgICAgICAgICAgIHRoaXMuX2FkZGxpa2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjaGVja0xpa2VDb3VudGVyKGRhdGEpIHtcclxuICAgICAgICB0aGlzLl9jYXJkTGlrZUNvdW50ZXIuaW5uZXJUZXh0ID0gZGF0YS5saWtlcy5sZW5ndGg7XHJcbiAgICB9XHJcbiAgICBjcmVhdGVDYXJkICgpIHtcclxuICAgICAgICB0aGlzLl9wbGFzZUltZy5zcmMgPSB0aGlzLl9kYXRhLmxpbms7XHJcbiAgICAgICAgdGhpcy5fcGxhc2VJbWcuYWx0ID0gdGhpcy5fZGF0YS5uYW1lO1xyXG4gICAgICAgIHRoaXMuX3BsYWNlVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl9kYXRhLm5hbWU7XHJcbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY2xvbmVDYXJkO1xyXG4gICAgfTtcclxuICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9wbGFzZUltZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgaWYoIXRoaXMudGVzdCgpKXtcclxuICAgICAgICAgICAgdGhpcy5fY29sYmFja0xpa2VBY3RpdmUodGhpcy5fZGF0YSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3RvZ2dsZUxpa2UoKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5fY29sYmFja0xpa2VEZWxldGUodGhpcy5fZGF0YSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3RvZ2dsZUxpa2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfYWRkbGlrZSgpIHtcclxuICAgICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2NhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZScpO1xyXG4gICAgfTtcclxuICAgIF90b2dnbGVMaWtlKCkge1xyXG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZSgnY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlJyk7XHJcbiAgICAgICAgdGhpcy5jaGVja0xpa2VDb3VudGVyXHJcbiAgICB9O1xyXG59OyIsImltcG9ydCBDYXJkIGZyb20gXCIuL0NhcmQuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJDYXJkIGV4dGVuZHMgQ2FyZHtcclxuICAgIHN0YXRpYyBfdGVtcGxhdGVDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RlbXBsYXRlLXVzZXJDYXJkJykuY29udGVudDtcclxuICAgIGNvbnN0cnVjdG9yKGRhdGEsIGlkdXNlciwgaGFuZGxlQ2FyZENsaWNrLCBjb2xiYWNrTGlrZUFjdGl2ZSwgY29sYmFja0xpa2VEZWxldGUsIGNvbGJhY2tEZWxldGVDYXJkKSB7XHJcbiAgICAgICAgc3VwZXIgKGRhdGEsIGlkdXNlciwgaGFuZGxlQ2FyZENsaWNrLCBjb2xiYWNrTGlrZUFjdGl2ZSwgY29sYmFja0xpa2VEZWxldGUpO1xyXG4gICAgICAgIHRoaXMuX2NvbGJhY2tEZWxldGVDYXJkID0gY29sYmFja0RlbGV0ZUNhcmQ7XHJcbiAgICAgICAgdGhpcy5fY2xvbmVDYXJkID0gVXNlckNhcmQuX3RlbXBsYXRlQ2FyZC5xdWVyeVNlbGVjdG9yKCcuY2FyZCcpLmNsb25lTm9kZSh0cnVlKTtcclxuICAgICAgICB0aGlzLl9wbGFjZVRpdGxlID0gdGhpcy5fY2xvbmVDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX190aXRsZScpO1xyXG4gICAgICAgIHRoaXMuX3BsYXNlSW1nID0gdGhpcy5fY2xvbmVDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19pbWFnZScpO1xyXG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9jbG9uZUNhcmQucXVlcnlTZWxlY3RvcignLmNhcmRfX2xpa2UtYnV0dG9uJyk7XHJcbiAgICAgICAgdGhpcy5fY2FyZExpa2VDb3VudGVyID0gdGhpcy5fY2xvbmVDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19saWtlLWNvdW50ZXInKTtcclxuICAgICAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9jbG9uZUNhcmQucXVlcnlTZWxlY3RvcignLmNhcmRfX2RlbGV0ZS1idXR0b24nKTtcclxuICAgIH07XHJcblxyXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHN1cGVyLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fY29sYmFja0RlbGV0ZUNhcmQoe2lkOiB0aGlzLl9pZENhcmQsIGNsb25lQ2FyZDogdGhpcy5fY2xvbmVDYXJkfSlcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufTsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3RvciAoe2l0ZW1zLCByZW5kZXJlcn0sIGNvbnRhaW5lclNlbGVjdG9yKXtcclxuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fc2VsZWN0b3IgPSBjb250YWluZXJTZWxlY3RvcjtcclxuICB9O1xyXG5cclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGVsKSA9PiB0aGlzLl9yZW5kZXJlcihlbCkpO1xyXG4gIH07XHJcblxyXG4gIGFkZEl0ZW1zKGVsKSB7XHJcbiAgICB0aGlzLl9zZWxlY3Rvci5hcHBlbmQoZWwpXHJcbiAgfTtcclxufTsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3RvcihsaXN0U2VsZWN0b3IsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9saXN0U2VsZWN0b3IgPSBsaXN0U2VsZWN0b3JcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnRcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9saXN0U2VsZWN0b3IuaW5wdXRTZWxlY3RvcikpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9saXN0U2VsZWN0b3Iuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gIH07XHJcbiAgX2lzVmFsaWQgKGlucHV0RWxlbWVudCkge1xyXG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9O1xyXG4gIF9zaG93SW5wdXRFcnJvciAoaW5wdXRFbGVtZW50LCBlcnJvck1hc2FnZSkge1xyXG4gICAgdGhpcy5faW5wdXRFcnJvciA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2xpc3RTZWxlY3Rvci5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvci50ZXh0Q29udGVudCA9IGVycm9yTWFzYWdlO1xyXG4gIH07XHJcbiAgX2hpZGVJbnB1dEVycm9yIChpbnB1dEVsZW1lbnQpe1xyXG4gICAgdGhpcy5faW5wdXRFcnJvciA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2xpc3RTZWxlY3Rvci5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvci50ZXh0Q29udGVudCA9ICcnO1xyXG4gIH07XHJcbiAgX2hhc0ludmFsaWRJbnB1dCAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KVxyXG4gIH07XHJcbiAgX2luYWN0aXZlU3VibWl0QnV0dG9uICgpIHtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2xpc3RTZWxlY3Rvci5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XHJcbiAgfTtcclxuICBfYWN0aXZlU3VibWl0QnV0dG9uICgpe1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fbGlzdFNlbGVjdG9yLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcclxuICB9O1xyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICB0aGlzLl9pbmFjdGl2ZVN1Ym1pdEJ1dHRvbiAoKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fYWN0aXZlU3VibWl0QnV0dG9uICgpXHJcbiAgICB9XHJcbiAgfTtcclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgKCkge1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9pc1ZhbGlkKGlucHV0RWxlbWVudClcclxuICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRFbGVtZW50KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG4gIH07XHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+e1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH07XHJcbiAgcmVzZXRWYWxpZGF0aW9uID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IgKGlucHV0RWxlbWVudCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn07IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yIChzZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXBTZWxlY3RvciA9IHNlbGVjdG9yO1xyXG4gICAgdGhpcy5fY2xvc2VCdXR0b24gPSB0aGlzLl9wb3B1cFNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2xvc2UtYnV0dG9uJyk7XHJcbiAgfVxyXG5cclxuICBfY2xvc2VCeUNsaWNrID0gKGVsKSA9PiB7XHJcbiAgICBpZiAoIWVsLnRhcmdldC5jbG9zZXN0KCcucG9wdXAtY29udGVudCcpKXtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICB9XHJcbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xyXG4gICAgaWYoZXZ0LmtleSA9PT0gJ0VzY2FwZScpe1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICB9XHJcbiAgfVxyXG4gIG9wZW4oKSB7XHJcbiAgIHRoaXMuX3BvcHVwU2VsZWN0b3IuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XHJcbiAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXBTZWxlY3Rvci5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCl7XHJcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKCkgPT57XHJcbiAgICAgIHRoaXMuY2xvc2UoKVxyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9wb3B1cFNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fY2xvc2VCeUNsaWNrKTtcclxuICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIHN0YXRpYyBmdWxsU2NyaW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX21heC1pbWcnKTtcclxuICBzdGF0aWMgZnVsbFNjcmluVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX21heC1pbWctdGl0bGUnKTtcclxuICBjb25zdHJ1Y3RvcihzZWxlY3Rvcil7XHJcbiAgICBzdXBlciAoc2VsZWN0b3IpXHJcbiAgfVxyXG4gIG9wZW4oZWxlbWVudCkge1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gICAgUG9wdXBXaXRoSW1hZ2UuZnVsbFNjcmluLnNyYyA9IGVsZW1lbnQubGluaztcclxuICAgIFBvcHVwV2l0aEltYWdlLmZ1bGxTY3Jpbi5hbHQgPSBlbGVtZW50Lm5hbWU7XHJcbiAgICBQb3B1cFdpdGhJbWFnZS5mdWxsU2NyaW5UaXRsZS50ZXh0Q29udGVudCA9IGVsZW1lbnQubmFtZTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IgKHNlbGVjdG9yLCBzdWJtaXRGb3Jt0KFvbGJhY2spIHtcclxuICAgICAgICBzdXBlciAoc2VsZWN0b3IpXHJcbiAgICAgICAgdGhpcy5fc3VibWl0Rm9ybdChb2xiYWNrID0gc3VibWl0Rm9ybdChb2xiYWNrO1xyXG4gICAgICAgIHRoaXMuX3RleHRCdXR0b24gPSB0aGlzLl9wb3B1cFNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJy5zdWJtaXQtYnV0dG9uJyk7XHJcbiAgICAgICAgdGhpcy5fdGV4dEJ1dHRvbkRlZmF1bHQgPSB0aGlzLl90ZXh0QnV0dG9uLmlubmVyVGV4dDsgXHJcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQgPSB0aGlzLl9wb3B1cFNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybV9faW5wdXQnKSlcclxuXHJcbiAgICB9XHJcblxyXG4gICAgX2dldElucHV0VmFsdWVzID0gKCkgPT57XHJcbiAgICAgICAgdGhpcy52YWx1ZUxpc3QgPSB7fTtcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoZWwpID0+e1xyXG4gICAgICAgICAgICB0aGlzLnZhbHVlTGlzdFtlbC5uYW1lXSA9IGVsLnZhbHVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVMaXN0O1xyXG4gICAgfVxyXG4gICAgc2hvd0Rvd25sb2FkTWVzc2FnZShpc0xvYWRpbmcpIHtcclxuICAgICAgICBpZihpc0xvYWRpbmcpe1xyXG4gICAgICAgICAgdGhpcy5fdGV4dEJ1dHRvbi5pbm5lclRleHQgPSBcItCh0L7RhdGA0LDQvdC10L3QuNC1Li4uXCI7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICB0aGlzLl90ZXh0QnV0dG9uLmlubmVyVGV4dCA9IHRoaXMuX3RleHRCdXR0b25EZWZhdWx0O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKXtcclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcclxuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0Rvd25sb2FkTWVzc2FnZSh0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5fc3VibWl0Rm9ybdChb2xiYWNrKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudC5yZXNldCgpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gICAgc3RhdGljIGF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXInKVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKG5pY2tOYW1lU2VsZWN0b3IsIGFib3V0TWVTZWxlY3Rvcil7XHJcbiAgICAgICAgdGhpcy5fbmlja05hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5pY2tOYW1lU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2Fib3V0TWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGFib3V0TWVTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fdXNlckluZm8gPSB7fVxyXG4gICAgfVxyXG5cclxuICAgIHNldFVzZXJJbmZvKGRhdGEpIHtcclxuICAgICAgICB0aGlzLl9uaWNrTmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICAgICAgICB0aGlzLl9hYm91dE1lLnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcclxuICAgICAgICBVc2VySW5mby5hdmF0YXIuc3JjID0gZGF0YS5hdmF0YXI7XHJcbiAgICAgICAgdGhpcy5fdXNlckluZm8gPSBkYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFVzZXJJbmZvICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdXNlckluZm87XHJcbiAgICB9XHJcbiAgICBnZXRJZFVzZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VzZXJJbmZvLl9pZDtcclxuICAgIH1cclxufSIsImltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwRGVsZXRlIGV4dGVuZHMgUG9wdXBXaXRoRm9ybSB7XHJcbiAgICBjb25zdHJ1Y3RvciAoc2VsZWN0b3IsIGNvbGJhY2tEZWxldGVDYXJkKSB7XHJcbiAgICAgICAgc3VwZXIoc2VsZWN0b3IpXHJcbiAgICAgICAgdGhpcy5fZGF0YUNhcmQgPXt9XHJcbiAgICAgICAgdGhpcy5fY29sYmFja0RlbGV0ZUNhcmQgPSBjb2xiYWNrRGVsZXRlQ2FyZDtcclxuICAgICAgICB0aGlzLl9jbG9zZUJ1dHRvbiA9IHRoaXMuX3BvcHVwU2VsZWN0b3IucXVlcnlTZWxlY3RvcignLnBvcHVwX19jbG9zZS1idXR0b24nKTtcclxuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudCA9IHRoaXMuX3BvcHVwU2VsZWN0b3IucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcclxuICAgICAgfVxyXG4gICAgICBvcGVuKGRhdGEpe1xyXG4gICAgICAgIHRoaXMuX2RhdGFDYXJkID0ge2lkOiBkYXRhLmlkLCBjbG9uZUNhcmQ6IGRhdGEuY2xvbmVDYXJkfTtcclxuICAgICAgICBzdXBlci5vcGVuKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGFDYXJkO1xyXG4gICAgICB9XHJcbiAgICAgIF9kZWxldGVDYXJkICA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLl9kYXRhQ2FyZC5jbG9uZUNhcmQucmVtb3ZlKCk7XHJcbiAgICAgICAgdGhpcy5fZGF0YUNhcmQuY2xvbmVDYXJkID0gbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgc2V0RXZlbnRMaXN0ZW5lcnMoKXtcclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcclxuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0Rvd25sb2FkTWVzc2FnZSh0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5fY29sYmFja0RlbGV0ZUNhcmQodGhpcy5fZGF0YUNhcmQuaWQsIHRoaXMuX2RlbGV0ZUNhcmQpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxufSIsImV4cG9ydCBjb25zdCBsaXN0U2VsZWN0b3IgPSB7XHJcbiAgaW5wdXRTZWxlY3RvcjogJy5mb3JtX19pbnB1dCcsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcuc3VibWl0LWJ1dHRvbicsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ2Zvcm1fX3N1Ym1pdF9pbmFjdGl2ZScsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiAnZm9ybV9faW5wdXRfdHlwZV9lcnJvcicsXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgcG9wdXBBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYXZhdGFyJyk7XHJcbmV4cG9ydCBjb25zdCBwb3B1cFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvZmlsZScpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBDcmVhdGVDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NyZWF0ZS1jYXJkJyk7XHJcbmV4cG9ydCBjb25zdCBwb3B1cERlbGV0ZUNhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGVsZXRlLWNhcmQnKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwRnVsbFNjcmVlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX21heC1pbWcnKTtcclxuXHJcbmV4cG9ydCBjb25zdCBhYm91dE1lU2VsZWN0b3IgPSAnLnByb2ZpbGVfX3Byb2Zlc3Npb24nO1xyXG5leHBvcnQgY29uc3Qgbmlja05hbWVTZWxlY3RvciA9ICcucHJvZmlsZV9fbmljay1uYW1lJztcclxuXHJcbmV4cG9ydCBjb25zdCBhdmF0YXJJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhdmF0YXItaW5wdXQnKTtcclxuZXhwb3J0IGNvbnN0IGFib3V0TWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhYm91dC1tZS1pbnB1dCcpO1xyXG5leHBvcnQgY29uc3Qgbmlja05hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuYW1lLWlucHV0Jyk7XHJcblxyXG5leHBvcnQgY29uc3QgYnV0dG9uQWRkQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtcGhvdG8nKTtcclxuZXhwb3J0IGNvbnN0IGJ1dHRvbkNoZW5nZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0LWF2YXRhcicpO1xyXG5leHBvcnQgY29uc3QgYnV0dG9uUHJvZmlsZUVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdCcpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGZvcm1DcmVhdGVDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zvcm0tY3JlYXRlJyk7XHJcbmV4cG9ydCBjb25zdCBmb3JtUHJvZmlsZUVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvZmlsZS1lZGl0Jyk7XHJcbmV4cG9ydCBjb25zdCBmb3JtQ2hhbmdlQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NoZW5nLWF2YXRhcicpXHJcblxyXG5leHBvcnQgY29uc3QgY2FyZExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2FyZC1saXN0Jyk7IiwiaW1wb3J0ICcuL2luZGV4LmNzcyc7XHJcbmltcG9ydCBBcGkgZnJvbSAnLi4vc2NyaXB0cy9jb21wb25lbnRzL0FwaS5qcyc7XHJcbmltcG9ydCBDYXJkIGZyb20gJy4uL3NjcmlwdHMvY29tcG9uZW50cy9DYXJkLmpzJztcclxuaW1wb3J0IFVzZXJDYXJkIGZyb20gJy4uL3NjcmlwdHMvY29tcG9uZW50cy9Vc2VyQ2FyZC5qcyc7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gJy4uL3NjcmlwdHMvY29tcG9uZW50cy9TZWN0aW9uLmpzJztcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnLi4vc2NyaXB0cy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSAnLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSAnLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSAnLi4vc2NyaXB0cy9jb21wb25lbnRzL1VzZXJJbmZvLmpzJztcclxuaW1wb3J0IFBvcHVwRGVsZXRlIGZyb20gJy4uL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cERlbGV0ZS5qcyc7XHJcbmltcG9ydCB7XHJcbiAgbGlzdFNlbGVjdG9yLFxyXG4gIGJ1dHRvbkFkZENhcmQsXHJcbiAgYnV0dG9uQ2hlbmdlQXZhdGFyLFxyXG4gIGJ1dHRvblByb2ZpbGVFZGl0LFxyXG5cclxuICBwb3B1cEF2YXRhcixcclxuICBwb3B1cFByb2ZpbGUsXHJcbiAgcG9wdXBEZWxldGVDYXJkLFxyXG4gIHBvcHVwQ3JlYXRlQ2FyZCxcclxuICBwb3B1cEZ1bGxTY3JlZW4sXHJcblxyXG4gIGZvcm1DcmVhdGVDYXJkLFxyXG4gIGZvcm1Qcm9maWxlRWRpdCxcclxuICBmb3JtQ2hhbmdlQXZhdGFyLFxyXG5cclxuICBjYXJkTGlzdCxcclxuXHJcbiAgYWJvdXRNZVNlbGVjdG9yLFxyXG4gIG5pY2tOYW1lU2VsZWN0b3IsXHJcblxyXG4gIGF2YXRhcklucHV0LFxyXG4gIGFib3V0TWVJbnB1dCxcclxuICBuaWNrTmFtZUlucHV0LFxyXG59IGZyb20gJy4uL3NjcmlwdHMvdXRpbHMvdXRpbHMuanMnO1xyXG5cclxuZnVuY3Rpb24gb3BlblBvcHVwRGVsZXRlQ2FyZCAoZGF0YSkge1xyXG4gIHBvcHVwRGVsZXRlLm9wZW4oZGF0YSlcclxufTtcclxuXHJcbmZ1bmN0aW9uIG9wZW5Qb3B1cFByb2ZpbGUgKGRhdGEpIHtcclxuICBuaWNrTmFtZUlucHV0LnZhbHVlID0gZGF0YS5uYW1lO1xyXG4gIGFib3V0TWVJbnB1dC52YWx1ZSA9IGRhdGEuYWJvdXQ7XHJcbiAgcG9wdXBXaXRoUHJvZmlsZS5vcGVuKCk7XHJcbiAgcHJvZmlsZVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIG9wZW5Qb3B1cENyZWF0ZUNhcmQgKCkge1xyXG4gIHBvcHVwV2l0aENyZWF0ZUNhcmQub3BlbigpO1xyXG4gIGNyZWF0ZUNhcmRWYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBvcGVuUG9wdXBDaGFuZ2VBdmF0YXIgKGRhdGEpIHtcclxuICBhdmF0YXJJbnB1dC52YWx1ZSA9IGRhdGEuYXZhdGFyO1xyXG4gIHBvcHVwQ2hhbmdlQXZhdGFyLm9wZW4oKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlRWxDYXJkKGRhdGEpIHtcclxuICBjb25zdCBpZFVzZXIgPSB1c2VySW5mby5nZXRJZFVzZXIoKTtcclxuICBpZiAoZGF0YS5vd25lci5faWQgPT09IGlkVXNlcil7XHJcbiAgICBjb25zdCBuZXdDYXJkID0gbmV3IFVzZXJDYXJkIChcclxuICAgICAgZGF0YSxcclxuICAgICAgaWRVc2VyLFxyXG4gICAgICAoKSA9PiBwb3B1cFdpdGhJbWFnZS5vcGVuKGRhdGEpLFxyXG4gICAgICAoKSA9PiBjaGVuZ2VMaWtlc0FjdGl2ZShkYXRhLCBuZXdDYXJkLmNoZWNrTGlrZUNvdW50ZXIpLFxyXG4gICAgICAoKSA9PiBjaGVuZ2VMaWtlc0RlbGV0ZShkYXRhLCBuZXdDYXJkLmNoZWNrTGlrZUNvdW50ZXIpLFxyXG4gICAgICBvcGVuUG9wdXBEZWxldGVDYXJkLFxyXG4gICAgKTtcclxuICAgIGNvbnNvbGUubG9nKG5ld0NhcmQudGVzdCgpKVxyXG4gICAgbmV3Q2FyZC5jaGVja0xpa2VTdGF0dXMoKTtcclxuICAgIG5ld0NhcmQuY2hlY2tMaWtlQ291bnRlcihkYXRhKTtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gbmV3Q2FyZC5jcmVhdGVDYXJkKCkgO1xyXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50XHJcbiAgfWVsc2V7XHJcbiAgICBjb25zdCBuZXdDYXJkID0gbmV3IENhcmQgKFxyXG4gICAgICBkYXRhLFxyXG4gICAgICBpZFVzZXIsXHJcbiAgICAgICgpID0+IHBvcHVwV2l0aEltYWdlLm9wZW4oZGF0YSksXHJcbiAgICAgICgpID0+IGNoZW5nZUxpa2VzQWN0aXZlKGRhdGEsIG5ld0NhcmQuY2hlY2tMaWtlQ291bnRlciksXHJcbiAgICAgICgpID0+IGNoZW5nZUxpa2VzRGVsZXRlKGRhdGEsIG5ld0NhcmQuY2hlY2tMaWtlQ291bnRlciksXHJcbiAgICApO1xyXG4gICAgY29uc29sZS5sb2cobmV3Q2FyZC50ZXN0KCkpXHJcbiAgICBuZXdDYXJkLmNoZWNrTGlrZVN0YXR1cygpO1xyXG4gICAgbmV3Q2FyZC5jaGVja0xpa2VDb3VudGVyKGRhdGEpO1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBuZXdDYXJkLmNyZWF0ZUNhcmQoKTtcclxuICAgIHJldHVybiBjYXJkRWxlbWVudFxyXG4gIH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIGFkZE5ld0NhcmQgKGRhdGEpIHtcclxuICBjYXJkTGlzdC5wcmVwZW5kKGNyZWF0ZUVsQ2FyZChkYXRhKSlcclxufTtcclxuXHJcbmZ1bmN0aW9uIGNoZW5nZUxpa2VzQWN0aXZlIChkYXRhLCBtZXRob2QpIHtcclxuICBhcGkubGlrZUNhcmQoZGF0YSlcclxuICAudGhlbigocmVzKSA9PiB7XHJcbiAgICBtZXRob2QocmVzKVxyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoZW5nZUxpa2VzRGVsZXRlIChkYXRhLCBtZXRob2QpIHtcclxuICBhcGkuZGVsZXRlTGlrZShkYXRhKVxyXG4gIC50aGVuKChyZXMpID0+IHtcclxuICAgIG1ldGhvZChyZXMpXHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIHN1Ym1pdENyZWF0ZUNhcmQgKGRhdGEpIHtcclxuICBhcGkucG9zdE5ld0NhcmQoZGF0YSlcclxuICAudGhlbigocmVzKSA9PiB7XHJcbiAgICBhZGROZXdDYXJkKHJlcylcclxuICAgIHBvcHVwV2l0aENyZWF0ZUNhcmQuY2xvc2UoKVxyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgLmZpbmFsbHkoKCkgPT4gcG9wdXBXaXRoQ3JlYXRlQ2FyZC5zaG93RG93bmxvYWRNZXNzYWdlKGZhbHNlKSlcclxufTtcclxuXHJcbmZ1bmN0aW9uIHN1Ym1pdERlbGV0ZUNhcmQgKGlkLCBtZXRob2QpIHtcclxuICBhcGkuZGVsZXRlQ2FyZChpZClcclxuICAudGhlbigoKSA9PiB7XHJcbiAgICBtZXRob2Q7XHJcbiAgICBwb3B1cERlbGV0ZS5jbG9zZSgpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgLmZpbmFsbHkoKCkgPT4gcG9wdXBEZWxldGUuc2hvd0Rvd25sb2FkTWVzc2FnZShmYWxzZSkpXHJcbn07XHJcblxyXG5mdW5jdGlvbiBzdWJtaXRQcm9maWxlIChkYXRhKSB7XHJcbiAgYXBpLnBhdGNoRGF0YVVzZXIoZGF0YSlcclxuICAudGhlbigocmVzKSA9PiB7XHJcbiAgICB1c2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gICAgdXNlckluZm8uc2V0VXNlckluZm8ocmVzKTtcclxuICAgIHBvcHVwV2l0aFByb2ZpbGUuY2xvc2UoKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gIC5maW5hbGx5KCgpID0+IHBvcHVwV2l0aFByb2ZpbGUuc2hvd0Rvd25sb2FkTWVzc2FnZShmYWxzZSkpXHJcbn07XHJcblxyXG5mdW5jdGlvbiBzdWJtaXRDaGVuZ2VBdmF0YXIgKGRhdGEpIHtcclxuICBhcGkucGF0Y2hBdmF0YXJVc2VyKGRhdGEpXHJcbiAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcyk7XHJcbiAgICBwb3B1cENoYW5nZUF2YXRhci5jbG9zZSgpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGVycilcclxuICB9KVxyXG4gIC5maW5hbGx5KCgpID0+IHBvcHVwQ2hhbmdlQXZhdGFyLnNoc2hvd0Rvd25sb2FkTWVzc2FnZShmYWxzZSkpXHJcbn07XHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpICh7XHJcbiAgdXJsOiAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC00MScsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogJzlmOTMyYmJjLWFjZDctNGRhZS04MjQ5LWM5ODU1MjY1OWY1NicsXHJcbiAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gIH1cclxufSk7XHJcblxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyhuaWNrTmFtZVNlbGVjdG9yLCBhYm91dE1lU2VsZWN0b3IpO1xyXG5jb25zdCBwb3B1cERlbGV0ZSA9IG5ldyBQb3B1cERlbGV0ZSAocG9wdXBEZWxldGVDYXJkLCBzdWJtaXREZWxldGVDYXJkKTtcclxuY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UgKHBvcHVwRnVsbFNjcmVlbik7XHJcbmNvbnN0IGF2YXRhclZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGxpc3RTZWxlY3RvciwgZm9ybUNoYW5nZUF2YXRhcik7XHJcbmNvbnN0IHByb2ZpbGVWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvciAobGlzdFNlbGVjdG9yLGZvcm1Qcm9maWxlRWRpdCk7XHJcbmNvbnN0IGNyZWF0ZUNhcmRWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvciAobGlzdFNlbGVjdG9yLGZvcm1DcmVhdGVDYXJkKTtcclxuY29uc3QgcG9wdXBXaXRoUHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtIChwb3B1cFByb2ZpbGUsIHN1Ym1pdFByb2ZpbGUpO1xyXG5jb25zdCBwb3B1cFdpdGhDcmVhdGVDYXJkID0gbmV3IFBvcHVwV2l0aEZvcm0gKHBvcHVwQ3JlYXRlQ2FyZCwgc3VibWl0Q3JlYXRlQ2FyZCk7XHJcbmNvbnN0IHBvcHVwQ2hhbmdlQXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0gKHBvcHVwQXZhdGFyLHN1Ym1pdENoZW5nZUF2YXRhcik7XHJcblxyXG5hdmF0YXJWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5wcm9maWxlVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuY3JlYXRlQ2FyZFZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5idXR0b25BZGRDYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxvcGVuUG9wdXBDcmVhdGVDYXJkKTtcclxuYnV0dG9uUHJvZmlsZUVkaXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCgpID0+IG9wZW5Qb3B1cFByb2ZpbGUodXNlckluZm8uZ2V0VXNlckluZm8oKSkpO1xyXG5idXR0b25DaGVuZ2VBdmF0YXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCgpID0+IG9wZW5Qb3B1cENoYW5nZUF2YXRhcih1c2VySW5mby5nZXRVc2VySW5mbygpKSk7XHJcblxyXG5wb3B1cERlbGV0ZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cFdpdGhJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cFdpdGhQcm9maWxlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnBvcHVwQ2hhbmdlQXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnBvcHVwV2l0aENyZWF0ZUNhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmFwaS5nZXRBbGxDYXJkKClcclxuICAudGhlbigoZGF0YSkgPT4ge1xyXG4gIGNvbnN0IHNlY3Rpb24gPSBuZXcgU2VjdGlvbiAoe1xyXG4gICAgaXRlbXM6IGRhdGEsXHJcbiAgICByZW5kZXJlcjogKGVsKSA9PiB7XHJcbiAgICAgIHNlY3Rpb24uYWRkSXRlbXMoY3JlYXRlRWxDYXJkKGVsKSlcclxuICAgIH19LFxyXG4gICAgY2FyZExpc3QpO1xyXG4gIHNlY3Rpb24ucmVuZGVySXRlbXMoKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgfSk7XHJcblxyXG5hcGkuZ2V0VXNlckRhdGEoKVxyXG4gIC50aGVuKChyZXMpID0+IHtcclxuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcyk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coZXJyKVxyXG4gIH0pO1xyXG4iXSwibmFtZXMiOlsiQXBpIiwiY29uZmlnIiwidGhpcyIsIl91cmwiLCJ1cmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0IiwiZmV0Y2giLCJtZXRob2QiLCJ0aGVuIiwiX2NoZWNrIiwiZGF0YSIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwibmFtZSIsImFib3V0IiwiYXZhdGFyIiwiaWQiLCJfaWQiLCJDYXJkIiwiaWRVc2VyIiwiaGFuZGxlQ2FyZENsaWNrIiwiY29sYmFja0xpa2VBY3RpdmUiLCJjb2xiYWNrTGlrZURlbGV0ZSIsIl9pZFVzZXIiLCJfZGF0YSIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfY29sYmFja0xpa2VBY3RpdmUiLCJfY29sYmFja0xpa2VEZWxldGUiLCJfY2xvbmVDYXJkIiwiX3RlbXBsYXRlQ2FyZCIsInF1ZXJ5U2VsZWN0b3IiLCJjbG9uZU5vZGUiLCJfcGxhc2VJbWciLCJfbGlrZUJ1dHRvbiIsIl9wbGFjZVRpdGxlIiwiX2NhcmRMaWtlQ291bnRlciIsImxpa2VzIiwic29tZSIsImVsIiwidGVzdCIsIl9hZGRsaWtlIiwiaW5uZXJUZXh0IiwibGVuZ3RoIiwic3JjIiwibGluayIsImFsdCIsInRleHRDb250ZW50IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl90b2dnbGVMaWtlIiwiY2xhc3NMaXN0IiwiYWRkIiwidG9nZ2xlIiwiY2hlY2tMaWtlQ291bnRlciIsImRvY3VtZW50IiwiY29udGVudCIsIlVzZXJDYXJkIiwiaWR1c2VyIiwiY29sYmFja0RlbGV0ZUNhcmQiLCJfY29sYmFja0RlbGV0ZUNhcmQiLCJfZGVsZXRlQnV0dG9uIiwiX2lkQ2FyZCIsImNsb25lQ2FyZCIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfc2VsZWN0b3IiLCJmb3JFYWNoIiwiYXBwZW5kIiwiRm9ybVZhbGlkYXRvciIsImxpc3RTZWxlY3RvciIsImZvcm1FbGVtZW50IiwiX2hhc0ludmFsaWRJbnB1dCIsIl9pbmFjdGl2ZVN1Ym1pdEJ1dHRvbiIsIl9hY3RpdmVTdWJtaXRCdXR0b24iLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfaW5wdXRMaXN0IiwiaW5wdXRFbGVtZW50IiwiX2hpZGVJbnB1dEVycm9yIiwiX2xpc3RTZWxlY3RvciIsIl9mb3JtRWxlbWVudCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvbiIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiZXJyb3JNYXNhZ2UiLCJfaW5wdXRFcnJvciIsImlucHV0RXJyb3JDbGFzcyIsInJlbW92ZSIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJfaXNWYWxpZCIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiUG9wdXAiLCJzZWxlY3RvciIsInRhcmdldCIsImNsb3Nlc3QiLCJjbG9zZSIsImtleSIsIl9wb3B1cFNlbGVjdG9yIiwiX2Nsb3NlQnV0dG9uIiwiX2hhbmRsZUVzY0Nsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9jbG9zZUJ5Q2xpY2siLCJQb3B1cFdpdGhJbWFnZSIsImVsZW1lbnQiLCJmdWxsU2NyaW4iLCJmdWxsU2NyaW5UaXRsZSIsIlBvcHVwV2l0aEZvcm0iLCJzdWJtaXRGb3Jt0KFvbGJhY2siLCJ2YWx1ZUxpc3QiLCJ2YWx1ZSIsIl9zdWJtaXRGb3Jt0KFvbGJhY2siLCJfdGV4dEJ1dHRvbiIsIl90ZXh0QnV0dG9uRGVmYXVsdCIsImlzTG9hZGluZyIsInNob3dEb3dubG9hZE1lc3NhZ2UiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIlVzZXJJbmZvIiwibmlja05hbWVTZWxlY3RvciIsImFib3V0TWVTZWxlY3RvciIsIl9uaWNrTmFtZSIsIl9hYm91dE1lIiwiX3VzZXJJbmZvIiwiUG9wdXBEZWxldGUiLCJfZGF0YUNhcmQiLCJfZGVsZXRlQ2FyZCIsInBvcHVwQXZhdGFyIiwicG9wdXBQcm9maWxlIiwicG9wdXBDcmVhdGVDYXJkIiwicG9wdXBEZWxldGVDYXJkIiwicG9wdXBGdWxsU2NyZWVuIiwiYXZhdGFySW5wdXQiLCJhYm91dE1lSW5wdXQiLCJuaWNrTmFtZUlucHV0IiwiYnV0dG9uQWRkQ2FyZCIsImJ1dHRvbkNoZW5nZUF2YXRhciIsImJ1dHRvblByb2ZpbGVFZGl0IiwiZm9ybUNyZWF0ZUNhcmQiLCJmb3JtUHJvZmlsZUVkaXQiLCJmb3JtQ2hhbmdlQXZhdGFyIiwiY2FyZExpc3QiLCJvcGVuUG9wdXBEZWxldGVDYXJkIiwicG9wdXBEZWxldGUiLCJvcGVuIiwiY3JlYXRlRWxDYXJkIiwidXNlckluZm8iLCJnZXRJZFVzZXIiLCJvd25lciIsIm5ld0NhcmQiLCJwb3B1cFdpdGhJbWFnZSIsImNoZW5nZUxpa2VzQWN0aXZlIiwiY2hlbmdlTGlrZXNEZWxldGUiLCJjb25zb2xlIiwibG9nIiwiY2hlY2tMaWtlU3RhdHVzIiwiY3JlYXRlQ2FyZCIsImFwaSIsImxpa2VDYXJkIiwiY2F0Y2giLCJlcnIiLCJkZWxldGVMaWtlIiwiYXV0aG9yaXphdGlvbiIsImRlbGV0ZUNhcmQiLCJmaW5hbGx5IiwiYXZhdGFyVmFsaWRhdG9yIiwicHJvZmlsZVZhbGlkYXRvciIsImNyZWF0ZUNhcmRWYWxpZGF0b3IiLCJwb3B1cFdpdGhQcm9maWxlIiwicGF0Y2hEYXRhVXNlciIsImdldFVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJwb3B1cFdpdGhDcmVhdGVDYXJkIiwicG9zdE5ld0NhcmQiLCJwcmVwZW5kIiwiYWRkTmV3Q2FyZCIsInBvcHVwQ2hhbmdlQXZhdGFyIiwicGF0Y2hBdmF0YXJVc2VyIiwic2hzaG93RG93bmxvYWRNZXNzYWdlIiwiZW5hYmxlVmFsaWRhdGlvbiIsInJlc2V0VmFsaWRhdGlvbiIsInNldEV2ZW50TGlzdGVuZXJzIiwiZ2V0QWxsQ2FyZCIsInNlY3Rpb24iLCJhZGRJdGVtcyIsInJlbmRlckl0ZW1zIiwiZ2V0VXNlckRhdGEiXSwic291cmNlUm9vdCI6IiJ9